<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Insert title here.</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/common.css" />
        <link rel="stylesheet" href="/css/top-nav.css" />
        <link
            rel="stylesheet"
            href="/css/pages/research-field/research-field-detail.css"
        />
        <script type="text/javascript" src="/js/components/footer.js"></script>
        <script type="text/javascript" src="/js/components/top-nav.js"></script>
        <script
            type="text/javascript"
            src="/js/components/pages/promotion-data-detail.js"
        ></script>
        <script type="text/javascript" src="/js/components/button.js"></script>
    </head>
    <body>
        <top-nav></top-nav>
        <going-up></going-up>
        <div class="detail-container"></div>
        <footer-default></footer-default>

        <script>
            let post;
            const postWrapper = document.querySelector('div.detail-container');
            const render = () => {
                postWrapper.innerHTML = `
            <span class="title-bd"
                >${post.title}</span
            >
            <span class="body-me">${post.date}</span>
            <span class="body-me"
                >${post.content}</span>
            <div class="button-container">
                <button-default
                    style_="outline"
                    onclick="location.href='/html/pages/promotion-center.html?tab=1'"
                    >목록으로</button-default
                >
            </div>
                `;
            };
            window.onload = async () => {
                const urlParams = new URLSearchParams(window.location.search);
                const index = urlParams.get('idx');
                const res = await fetch(
                    '/resources/pages/promotion-center/promotion.json',
                );
                const posts = await res.json();
                post = posts[index];
                render();
            };
        </script>
    </body>
</html>
