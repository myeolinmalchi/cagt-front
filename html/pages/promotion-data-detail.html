<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Insert title here.</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/common.css" />
        <link rel="stylesheet" href="/css/top-nav.css" />
        <script type="text/javascript" src="/js/components/footer.js"></script>
        <script type="text/javascript" src="/js/components/top-nav.js"></script>
        <script
            type="text/javascript"
            src="/js/components/pages/promotion-data-detail.js"
        ></script>
        <script type="text/javascript" src="/js/components/button.js"></script>
    </head>

    <body>
        <top-nav></top-nav>
        <div class="content-wrapper">
            <div class="post-container">
                <div class="post-wrapper">
                    <content-detail
                        img_src="#"
                        title="2022 충남지역 주요사업 공동박람회 개최"
                        content_value=""
                        caption_value=""
                        date_value="YY.MM.DD"
                    >
                    </content-detail>
                </div>
            </div>
        </div>

        <footer-default></footer-default>

        <script>
            let post;
            const postWrapper = document.querySelector('div.post-wrapper');
            const render = () => {
                console.log(post.content);
                postWrapper.innerHTML = `
                    <content-detail
                        title="${post.title}"
                        content_value="${post.content}"
                        date_value="${post.date}"
                    >
                    </content-detail>
                `;
            };
            window.onload = async () => {
                const urlParams = new URLSearchParams(window.location.search);
                const index = urlParams.get('idx');
                const res = await fetch(
                    '/resources/pages/promotion-center/promotion.json',
                );
                const posts = await res.json();
                post = posts[index];
                render();
            };
        </script>
    </body>
</html>
