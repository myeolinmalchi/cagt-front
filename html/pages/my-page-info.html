<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Insert title here.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/top-nav.css" />
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/pages/my-page/bussiness-application.css" />
    <script type="text/javascript" src="/js/components/button.js"></script>
    <script type="text/javascript" src="/js/components/text-field.js"></script>
    <script type="text/javascript" src="/js/components/dropdown.js"></script>
    <script type="text/javascript" src="/js/components/checkbox.js"></script>
    <script type="text/javascript" src="/js/components/top-nav.js"></script>
</head>

<body>
    <script>
        let files;
        const uploadFiles = () => {
            let input = document.createElement('input');
            input.type = 'file';
            input.multiple = true;
            input.accept = '.jpg,.png,.pdf,.doc,.docx,.xls,.hwp';
            input.onchange = (_) => {
                files = Array.from(input.files);
                render();
            };
            input.click();
        };

        const deleteFile = (index) => {
            files = files.filter((_, i) => i !== index);
            render();
        };

        const render = () => {
            const container = document.querySelector(
                'div.attachment-container',
            );
            if (files.length === 0) {
                container.innerHTML = `
                        <div class="attachment-guide" onclick="uploadFiles()">
                            <span class="body-me"> 파일을 업로드해주세요 </span>
                            <span class="body-me"
                                >(Jpg, Png, PDF, Word, Excel, Hwp) 파일만 업로드
                                해주세요</span
                            >
                            <button-text style_="primary" underline="true"
                                >컴퓨터에서 파일 선택하기</button-text
                            >
                        </div>
                    `;
                return;
            } else {
                container.innerHTML = ``;
            }
            files.forEach((file, index) => {
                const att = document.createElement('div');
                att.classList.add('attachment-wrapper');
                const size = file.size / 1000000;
                att.innerHTML = `
                            <div></div>
                            <div>
                                <span>${file.name}</span>
                                <span>${size.toFixed(2)}mb</span>
                            </div>
                            <div onclick="deleteFile(${index})"></div>
                        `;
                container.append(att);
            });
        };
    </script>
    <top-nav></top-nav>
    <div class="content-wrapper">
        <div>
            <div class="title-bd">회원정보</div>
        </div>

        <div class="form-container">
            <div>
                <span class="body-me"><span>* </span>아이디</span>
                <textfield-default placeholder="{$userid}"></textfield-default>
            </div>
            <div>
                <span class="body-me"><span>* </span>비밀번호</span>
                <div class="password-container">
                    <textfield-default placeholder="기업명을 입력해주세요."></textfield-default>
                    <button-default size="xl" style_="default">변경하기</button-default>
                </div>
            </div>
            <div>
                <span class="body-me"><span>* </span>이름</span>
                <textfield-default placeholder="이름을 입력해주세요."></textfield-default>
            </div>
            <div>
                <span class="body-me"><span>* </span>연락처</span>
                <div class="phone-wrapper">
                    <dropdown-container>
                        <dropdown-header value="010" type="default"></dropdown-header>
                        <dropdown-content>
                            <span>010</span>
                            <span>010</span>
                            <span>010</span>
                            <span>010</span>
                            <span>010</span>
                            <span>010</span>
                        </dropdown-content>
                    </dropdown-container>
                    <textfield-default placeholder="중간 번호"></textfield-default>
                    <textfield-default placeholder="끝 번호"></textfield-default>
                </div>
            </div>
            <div>
                <span class="body-me"><span>* </span>닉네임</span>
                <textfield-default placeholder="닉네임을 입력해주세요."></textfield-default>
            </div>
            <div>
                <span class="body-me"><span>* </span>이메일</span>
                <div class="email-wrapper">
                    <textfield-default placeholder="이메일을 입력해주세요."></textfield-default>
                    <dropdown-container>
                        <dropdown-header value="@naver.com" type="default"></dropdown-header>
                        <dropdown-content>
                            <span>@gmail.com</span>
                            <span>@gmail.com</span>
                            <span>@gmail.com</span>
                            <span>@gmail.com</span>
                            <span>@gmail.com</span>
                            <span>@gmail.com</span>
                        </dropdown-content>
                    </dropdown-container>
                </div>
            </div>
            <div>
                <span class="body-me">전화번호</span>
                <div class="phone-wrapper">
                    <dropdown-container>
                        <dropdown-header value="010" type="default"></dropdown-header>
                        <dropdown-content>
                            <span>010</span>
                            <span>010</span>
                            <span>010</span>
                            <span>010</span>
                            <span>010</span>
                            <span>010</span>
                        </dropdown-content>
                    </dropdown-container>
                    <textfield-default placeholder="중간 번호"></textfield-default>
                    <textfield-default placeholder="끝 번호"></textfield-default>
                </div>
            </div>
            <div>
                <span class="body-me">사용자</span>
                <div class="usertype-container">
                    <label><input type="radio" checked name="usertype" id="user">개인사용자</label>
                    <label><input type="radio" name="usertype" id="company">기업사용자</label>
                </div>
            </div>
            <div>
                <span class="body-me"><span>* </span>기업(기관)명</span>
                <textfield-default placeholder="기업(기관)명을 입력해주세요."></textfield-default>
            </div>
            <div>
                <span class="body-me"><span>* </span>소속</span>
                <textfield-default placeholder="소속를 입력해주세요."></textfield-default>
            </div>
            <div>
                <span class="body-me"><span>* </span>직위</span>
                <textfield-default placeholder="직위를 입력해주세요."></textfield-default>
            </div>


            <button-default size="xl" style_="default" state="disabled">수정하기</button-default>
            <div class="delete">탈퇴하기</div>

        </div>
    </div>
</body>

</html>