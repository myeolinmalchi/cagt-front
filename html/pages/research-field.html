<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Insert title here.</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/common.css" />
        <link rel="stylesheet" href="/css/tab-area.css" />
        <link rel="stylesheet" href="/css/top-nav.css" />
        <link
            rel="stylesheet"
            href="/css/pages/research-field/research-field.css"
        />
        <script type="text/javascript" src="/js/components/tab.js"></script>
        <script
            type="text/javascript"
            src="/js/components/tab-area.js"
        ></script>
        <script
            type="text/javascript"
            src="/js/components/pagination.js"
        ></script>
        <script type="text/javascript" src="/js/components/top-nav.js"></script>
        <script type="text/javascript" src="/js/components/button.js"></script>
    </head>
    <body>
        <top-nav focus="3"></top-nav>
        <tab-area>
            <tab-introduction-container>
                <tab-introduction-content>
                    천안아산강소특구의<br />
                    특화연구분야를 소개합니다.
                </tab-introduction-content>
                <tab-introduction-content>
                    천안아산강소특구의<br />
                    특구보유장비를 소개합니다.
                </tab-introduction-content>
                <tab-introduction-content>
                    천안아산강소특구의<br />
                    특구기술자료를 소개합니다.
                </tab-introduction-content>
            </tab-introduction-container>
            <tab-container>
                <tab-default type="primary">특화연구분야</tab-default>
                <tab-default type="primary">특구보유장비</tab-default>
                <tab-default type="primary">특구기술자료</tab-default>
            </tab-container>
        </tab-area>
        <tab-content-area>
            <tab-content id="content1">
                <img class="top-img" src="" alt="" />
                <div class="content-wrapper">
                    <div class="post-container">
                        <div
                            onclick="location.href='/html/pages/research-field-detail.html'"
                        >
                            <span class="title-bd"
                                >(연구분야) 전기자동차용 에너지저장시스템(ESS)
                                부품 소재 개발</span
                            >
                            <span class="body-me">2022.09.08</span>
                        </div>
                    </div>
                    <pagination-container>
                        <pagination-arrow direction="left"></pagination-arrow>
                        <pagination-unit state="focus">1</pagination-unit>
                        <pagination-arrow direction="right"></pagination-arrow>
                    </pagination-container>
                </div>
            </tab-content>
            <tab-content id="content2">
                <img class="top-img" src="" alt="" />
                <div class="content-wrapper">
                    <div class="post-container"></div>
                    <pagination-container>
                        <pagination-arrow direction="left"></pagination-arrow>
                        <pagination-unit state="focus">1</pagination-unit>
                        <pagination-arrow direction="right"></pagination-arrow>
                    </pagination-container>
                </div>
            </tab-content>
            <tab-content id="content3">
                <img class="top-img" src="" alt="" />
                <div class="content-wrapper">
                    <div class="post-container"></div>
                    <pagination-container>
                        <pagination-arrow direction="left"></pagination-arrow>
                        <pagination-unit state="focus">1</pagination-unit>
                        <pagination-arrow direction="right"></pagination-arrow>
                    </pagination-container></div
            ></tab-content>
        </tab-content-area>

        <script>
            let equipments;
            const postContainer = document.querySelector(
                '#content2 div.post-container',
            );
            const render = (page) => {
                postContainer.innerHTML = equipments.reduce(
                    (acc, equipment, idx) => {
                        return (
                            acc +
                            `
                        <div
                            onclick="location.href='/html/pages/equipment-detail.html?idx=${idx}'"
                        >
                            <img src="${equipment.img}" alt="" />
                            <div>
                                <span class="body-me">${equipment.장비명}</span>
                                <span class="title-bd">${equipment.모델명}</span>
                            </div>
                        </div>
                        `
                        );
                    },
                    '',
                );
            };

            (async function () {
                const res = await fetch(
                    '/resources/pages/research-field/equipment.json',
                );
                equipments = await res.json();
                render();
            })();
        </script>
    </body>
</html>
